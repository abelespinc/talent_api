import{m as $,f as J,l as p,a1 as K,o as r,h as c,q as o,F as i,v as g,I as v,J as y,t as b,n as _,j as h,A as R,x as N,y as T}from"./vendor-535dae5b.js";import{_ as V}from"./index-033cad62.js";const w=$("https://talentconnecthink.eu/api/configuration");function I(){return w.get("/")}function f({data:l}){return w.patch("/useless-id-to-fool-drf/",l)}const m=l=>(N("data-v-d47dcebb"),l=l(),T(),l),U={key:0},O=m(()=>o("h1",{class:"text-danger fw-bold mb-4"},"WORK IN PROGRESS - NOT WORKING YET",-1)),D={class:"border-bottom border-opacity-25 border-2 pb-3"},B=m(()=>o("h3",{class:"fw-bold"},"Scrapy",-1)),F={class:"row mb-4"},P={class:"form-floating"},G=["id","onUpdate:modelValue","placeholder"],W=["for"],j={class:"mb-0 mt-1"},q=m(()=>o("h5",{class:"fw-semibold"},"Job keywords",-1)),z={class:"row",style:{"--bs-gutter-x":"0.5rem","--bs-gutter-y":"0.5rem"}},A={class:"col-xxl-3 col-xl-4 col-sm-6"},L=["onUpdate:modelValue","onChange"],M={class:"d-flex align-items-center gap-3 mt-4"},Y=J({__name:"Configuration",emits:[],setup(l){const S=["statusScrapyPeriodicity","statusScrapyDaysToStart","statusScrapyDuration"],t=p(),u=p(),n=p(),C=()=>{t.value&&f({data:t.value}).then(()=>{n.value="SUCCESS"}).catch(()=>{n.value="ERROR"})},k=a=>{var e;!((e=t.value)==null?void 0:e.scrapyJobKeywords[a])&&t.value&&t.value.scrapyJobKeywords.splice(a,1)},x=()=>{var a;u.value&&((a=t.value)==null||a.scrapyJobKeywords.push(u.value),u.value=void 0)},E=()=>{t.value&&f({data:{statusScrapyEnabled:!t.value.statusScrapyEnabled}}).then(()=>{t.value.statusScrapyEnabled=!t.value.statusScrapyEnabled})};return I().then(a=>{t.value=a}),K(n,()=>{setTimeout(()=>{n.value=void 0},2e3)}),(a,s)=>t.value?(r(),c("div",U,[O,o("div",D,[B,o("div",F,[(r(),c(i,null,g(S,e=>o("div",{key:e,class:"col-md-4"},[o("div",P,[v(o("input",{id:e,"onUpdate:modelValue":d=>t.value[e]=d,type:"number",class:"form-control bg-white",placeholder:a.$t(`configuration.scrapy.${e}.name`)},null,8,G),[[y,t.value[e],void 0,{number:!0}]]),o("label",{class:"fw-semibold",for:e},b(a.$t(`configuration.scrapy.${e}.name`)),9,W)]),o("p",j,b(a.$t(`configuration.scrapy.${e}.helpText`)),1)])),64))]),o("div",null,[q,o("div",z,[o("div",A,[v(o("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),type:"text",class:"form-control bg-white",placeholder:"Nueva keyword",onChange:s[1]||(s[1]=e=>x())},null,544),[[y,u.value]])]),(r(!0),c(i,null,g(t.value.scrapyJobKeywords.length,e=>(r(),c("div",{key:e,class:"col-xxl-3 col-xl-4 col-sm-6"},[v(o("input",{"onUpdate:modelValue":d=>t.value.scrapyJobKeywords[e-1]=d,type:"text",class:"form-control bg-white",onChange:d=>k(e-1)},null,40,L),[[y,t.value.scrapyJobKeywords[e-1]]])]))),128))])])]),o("div",M,[o("button",{class:_([{"btn-success":n.value==="SUCCESS","btn-danger":n.value==="ERROR","btn-primary":!n.value},"btn btn-lg"]),onClick:s[2]||(s[2]=e=>C())},b(a.$t("saveChanges")),3),o("button",{class:_([t.value.statusScrapyEnabled?"btn-danger":"btn-success","btn btn-lg"]),type:"button",onClick:s[3]||(s[3]=e=>E())},[t.value.statusScrapyEnabled?(r(),c(i,{key:0},[h("Parar scrapy")],64)):(r(),c(i,{key:1},[h("Iniciar scrapy")],64))],2)])])):R("",!0)}});const X=V(Y,[["__scopeId","data-v-d47dcebb"]]);export{X as default};
