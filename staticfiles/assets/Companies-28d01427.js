import{f as h,r as I,o as a,h as n,q as o,n as _,t as s,i as f,w as C,F as x,v as k,x as b,y as v,l as S,K as B,I as P,J as A,s as V}from"./vendor-535dae5b.js";import{C as D,m as E,V as N,g as O}from"./VirtualInfiniteList-be1723f4.js";import{_ as g}from"./index-033cad62.js";import{u as j}from"./usePaginatedQuery-bce4ac9c.js";const w=e=>(b("data-v-8f52ed7e"),e=e(),v(),e),q={class:"card"},L={class:"card-body"},M={class:"d-flex flex-column"},R={class:"fw-bold fs-5"},z={key:0},F={key:1,class:"text-lowercase"},T={key:2,class:"text-lowercase"},G=w(()=>o("i",{class:"bi-arrow-right-circle ms-3"},null,-1)),J={class:"mt-2"},K={class:"fw-semibold fs-5 d-block"},Q={key:0,class:"d-flex gap-3 align-items-center profiles-container"},U=["href"],H={class:"text-capitalize fw-semibold"},W=w(()=>o("i",{class:"bi-box-arrow-up-right small"},null,-1)),X={key:1},Y=h({__name:"CompanyCard",props:{company:{type:Object,required:!0}},emits:["companyIsCompetitorChange"],setup(e,{emit:i}){const m=e,u=()=>{E({companyId:m.company.id,data:{isCompetitor:!m.company.isCompetitor}}).then(()=>{i("companyIsCompetitorChange")})};return(t,d)=>{const y=I("router-link");return a(),n("div",q,[o("div",L,[o("div",{class:_(["d-flex justify-content-between align-items-center border-bottom border-opacity-25 border-2 pb-3",{"text-danger":e.company.isCompetitor}])},[o("div",M,[o("span",R,s(e.company.name),1),o("span",null,"Industria: "+s(e.company.industry||"desconocida"),1),o("div",null,[f(y,{to:{name:"offers",query:{company:e.company.name}},class:_([e.company.isCompetitor?"btn-danger":"btn-primary","mt-3 btn"])},{default:C(()=>[e.company.offers?e.company.offers===1?(a(),n("span",F,s(e.company.offers)+" "+s(t.$t("offers.offer")),1)):(a(),n("span",T,s(e.company.offers)+" "+s(t.$t("offers.offers",e.company.offers)),1)):(a(),n("span",z,s(t.$t("offers.noOffers")),1)),G]),_:1},8,["to","class"])])]),f(D,{"is-competitor":e.company.isCompetitor,class:"fs-1 cursor-pointer",onClick:d[0]||(d[0]=c=>u())},null,8,["is-competitor"])],2),o("div",J,[o("span",K,s(t.$t("companies.profiles")),1),e.company.profiles.length?(a(),n("div",Q,[(a(!0),n(x,null,k(e.company.profiles,c=>(a(),n("a",{key:c.source,href:c.url,target:"_blank",class:"d-flex align-items-center gap-1"},[o("span",H,s(c.source),1),W],8,U))),128))])):(a(),n("span",X,s(t.$t("companies.noProfiles")),1))])])])}}});const Z=g(Y,[["__scopeId","data-v-8f52ed7e"]]),$=e=>(b("data-v-63c51959"),e=e(),v(),e),ee={class:"pb-4 mb-4 border-bottom border-2"},oe={class:"fw-bold mb-3"},se={class:"d-flex align-items-center justify-content-between flex-wrap gap-4"},te={class:"fw-semibold p-2 px-3 border-start border-2 border-danger"},ae=$(()=>o("br",null,null,-1)),ne={class:"bg-white rounded-3 py-3 px-4 shadow-sm"},ie=$(()=>o("i",{class:"bi-search ms-2"},null,-1)),ce=20,re=h({__name:"Companies",emits:[],setup(e){const i=S(),m=r=>{r.isCompetitor=!r.isCompetitor},{data:u,fetchNextPage:t,params:d,moreDataAvailable:y}=j(O,{limit:ce}),c=()=>{y.value&&t()};return B(i,()=>{d.value.name=i.value,t(!0)},{debounce:250}),t(),(r,p)=>(a(),n("div",null,[o("div",ee,[o("h1",oe,s(r.$t("companies.companiesList")),1),o("div",se,[o("div",te,[o("span",null,s(r.$t("companies.redCompaniesAreCompetitors")),1),ae,o("span",null,s(r.$t("companies.clickOnIconToMarkAsCompetitor")),1)]),o("div",ne,[P(o("input",{"onUpdate:modelValue":p[0]||(p[0]=l=>i.value=l),type:"text",class:"border-0",placeholder:"Buscar..."},null,512),[[A,i.value]]),ie])])]),f(N,{items:V(u),"item-height":226,onReachBottom:p[1]||(p[1]=l=>c())},{default:C(({item:l})=>[f(Z,{company:l,class:"mx-auto",onCompanyIsCompetitorChange:le=>m(l)},null,8,["company","onCompanyIsCompetitorChange"])]),_:1},8,["items"])]))}});const ue=g(re,[["__scopeId","data-v-63c51959"]]);export{ue as default};
